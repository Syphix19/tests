
    -- Wait until the game loads
    if not game:IsLoaded() then
        game.Loaded:Wait()
    end

    -- Roblox Services
    local MarketplaceService = game:GetService("MarketplaceService")
    local SoundService = game:GetService("SoundService")
    local RunService = game:GetService("RunService")
    local VirtualUser = game:GetService("VirtualUser")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local ContextActionService = game:GetService("ContextActionService")
    local StarterGui = game:GetService("StarterGui")
    local UserInputService = game:GetService("UserInputService")
    local Http = game:GetService("HttpService")
    local TPS = game:GetService("TeleportService")
    local Players = game:GetService("Players")
    local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
    local VirtualInputManager = game:GetService("VirtualInputManager")
    local Lighting = game:GetService("Lighting")
    local Workspace = game:GetService("Workspace")
    local Api = "https://games.roblox.com/v1/games/"

    -- Variables
    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character
    local PlayerData
    local PlayerEffectsData = nil
    local PlaceId = game.PlaceId
    local JobId = game.JobId
    local mt = getrawmetatable(game)
    setreadonly(mt, false)

    -- Main Script Module
    local ScriptValues = {
        ScriptVersion = "v0",
        ScriptOwner = "Syphix",
        FolderName = "Keido ui (Fluent)",
        SettingsFile = "CoS_Loader.json",
        AutoLoadSettings = getgenv().AutoLoadConfigurations or false,
        NotificationSoundId = 1760921747,
        WarningSoundId = 3165700530,
        ErrorSoundId = 5188022160,
        SupportedExecutors = {"Synapse X", "Codex", "Delta", "Electron", "Fluxus", "Valyse"},
        ExecutorsIdentifier = {
            "Fingerprint",
            "Krnl-Fingerprint",
            "Syn-Fingerprint",
            "SW-Fingerprint",
            "Flux-Fingerprint",
            "Valyse-Fingerprint",
            "Electron-Fingerprint",
            "Delta-Figerprint"
        },
        DisconnectTypes = {{"ban", {"ban", "perm"}}, {"network", {"internet connection", "network"}}},
        AdministratorRoles = {"ðŸ’ŽAdministrator", "â­Friends/Family", "Testing", "ï¸ðŸ› ï¸Developer", "ðŸ‘‘Co-Owner", "ðŸ‘‘Owner"},
        RoleCaution = {"â¤ï¸Contributor", "ðŸ“Tester", "Community Artist", "ðŸŽ¥Content Creator"}
    }

    local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
    local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
    local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

    local Options = Fluent.Options

    local Window = Fluent:CreateWindow({
        Title = "Keido ui | Cos Recode Script ".. ScriptValues.ScriptVersion .."",
        SubTitle = "by ".. ScriptValues.ScriptOwner .."",
        TabWidth = 160,
        Size = UDim2.fromOffset(580, 400),
        Acrylic = true, 
        Theme = "Dark",
        MinimizeKey = Enum.KeyCode.Q    
    })

    if not _G.AlreadyExecuted == true then
        local screenGui = Instance.new("ScreenGui")
        screenGui.Parent = game.CoreGui

        local CloseButton = Instance.new("ImageButton")
        CloseButton.Parent = screenGui
        CloseButton.Position = UDim2.new(0.01, 0, 0.3, 0)
        CloseButton.Size = UDim2.new(0, 43, 0, 43)
        CloseButton.BackgroundTransparency = 0
        CloseButton.Image = "rbxassetid://14076923102"
        CloseButton.BackgroundColor3 = Color3.new(0, 0, 0)
        CloseButton.BorderColor3 = Color3.new(1, 1, 1)
        CloseButton.ClipsDescendants = true

        local UICorner = Instance.new("UICorner")
        UICorner.Parent = CloseButton

        local UIStroke = Instance.new("UIStroke")
        UIStroke.Parent = CloseButton
        UIStroke.Thickness = 2

        CloseButton.MouseButton1Click:Connect(
            function()
                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)
            end
        )       
    end

    _G.AlreadyExecuted = true


    SaveManager:SetLibrary(Fluent)
    InterfaceManager:SetLibrary(Fluent)

    SaveManager:IgnoreThemeSettings()

    SaveManager:SetIgnoreIndexes({})

    Window:SelectTab(1)
    SaveManager:BuildConfigSection(Tabs.Others)

    local NotificationSound
    local WarningSound
    local ErrorSound

    NotificationSound = Instance.new("Sound")
    NotificationSound.Name = "NotificationSound"
    NotificationSound.SoundId = "rbxassetid://" .. ScriptValues.NotificationSoundId
    NotificationSound.Volume = 2
    NotificationSound.Parent = SoundService

    WarningSound = Instance.new("Sound")
    WarningSound.Name = "WarningSound"
    WarningSound.SoundId = "rbxassetid://" .. ScriptValues.WarningSoundId
    WarningSound.Volume = 2
    WarningSound.Parent = SoundService

    ErrorSound = Instance.new("Sound")
    ErrorSound.Name = "ErrorSound"
    ErrorSound.SoundId = "rbxassetid://" .. ScriptValues.ErrorSoundId
    ErrorSound.Volume = 2
    ErrorSound.Parent = SoundService

    local function Notification(SoundType, Text)
        if SoundType == "Notification" then
            NotificationSound:Play()
            Fluent:Notify({
                Title = "Notification",
                Content = Text,
                Duration = 5
            })
        elseif SoundType == "Warning" then
            WarningSound:Play()
            Fluent:Notify({
                Title = "Warning",
                Content = Text,
                Duration = 5
            })
        elseif SoundType == "Error" then
            ErrorSound:Play()
            Fluent:Notify({
                Title = "Error",
                Content = Text,
                Duration = 5
            })
        end
    end

    -- Functions



---------------


    -- UI Variables

----------------

    --Tabs
    --tabs icons : https://github.com/dawid-scripts/Fluent/blob/master/src/Icons.lua
    local Tabs = {
        Main = Window:AddTab({ Title = "Main", Icon = "home" }),
        Others = Window:AddTab({ Title = "Others", Icon = "settings" }),
    }
    local Tabs = {
        Main = Window:AddTab({ Title = "Main", Icon = "home" }),
        Others = Window:AddTab({ Title = "Others", Icon = "settings" }),
    }

----------------


    local AntiAfk = Tabs.Others:AddButton({
        Title = "Anti Afk", 
        Callback = function()
            NotificationSound:Play()
            LocalPlayer.Idled:connect(
                function()
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                end
            )
    end})

    local RejoinServer = Tabs.Others:AddButton({
        Title = "Rejoin Server", 
        Callback = function()
            NotificationSound:Play()
            TPS:Teleport(PlaceId, LocalPlayer)
    end})

    local TeleportFewPeople = Tabs.Others:AddButton({
        Title = "Teleport to a server with few people", 
        Callback = function()
            NotificationSound:Play()
            local _place = PlaceId
            local _servers = Api .. _place .. "/servers/Public?sortOrder=Asc&limit=100"
            function ListServers(cursor)
                local Raw = game:HttpGet(_servers .. ((cursor and "&cursor=" .. cursor) or ""))
                return Http:JSONDecode(Raw)
            end

            local Server, Next
            repeat
                local Servers = ListServers(Next)
                Server = Servers.data[1]
                Next = Servers.nextPageCursor
            until Server

            TPS:TeleportToPlaceInstance(_place, Server.id, LocalPlayer)
    end})

    local LowQualityTextures = Tabs.Others:AddButton({
        Title = "Low Quality Textures", 
        Callback = function()
            NotificationSound:Play()
            for _, v in pairs(game:GetService("Workspace"):GetDescendants()) do
                if v:IsA("BasePart") and not v.Parent:FindFirstChild("Humanoid") then
                    v.Material = "SmoothPlastic"
                    if v:IsA("Texture") then
                        v:Destroy()
                    end
                end
            end
    end})

    local HopServer = Tabs.Others:AddButton({
        Title = "Hop Server (Never the same servers) ", 
        Callback = function()
            NotificationSound:Play()
            local PlaceID = PlaceId
            local AllIDs = {}
            local foundAnything = ""
            local actualHour = os.date("!*t").hour
            local Deleted = false
            local File =
                pcall(
                function()
                    AllIDs = game:GetService("HttpService"):JSONDecode(readfile("NotSameServers.json"))
                end
            )
            if not File then
                table.insert(AllIDs, actualHour)
                writefile("NotSameServers.json", game:GetService("HttpService"):JSONEncode(AllIDs))
            end
            local function TPReturner()
                local Site
                if foundAnything == "" then
                    Site =
                        game.HttpService:JSONDecode(
                        game:HttpGet(
                            "https://games.roblox.com/v1/games/" .. PlaceID .. "/servers/Public?sortOrder=Asc&limit=100"
                        )
                    )
                else
                    Site =
                        game.HttpService:JSONDecode(
                        game:HttpGet(
                            "https://games.roblox.com/v1/games/" ..
                                PlaceID .. "/servers/Public?sortOrder=Asc&limit=100&cursor=" .. foundAnything
                        )
                    )
                end
                local ID = ""
                if Site.nextPageCursor and Site.nextPageCursor ~= "null" and Site.nextPageCursor ~= nil then
                    foundAnything = Site.nextPageCursor
                end
                local num = 0
                for i, v in pairs(Site.data) do
                    local Possible = true
                    ID = tostring(v.id)
                    if tonumber(v.maxPlayers) > tonumber(v.playing) then
                        for _, Existing in pairs(AllIDs) do
                            if num ~= 0 then
                                if ID == tostring(Existing) then
                                    Possible = false
                                end
                            else
                                if tonumber(actualHour) ~= tonumber(Existing) then
                                    local delFile =
                                        pcall(
                                        function()
                                            delfile("NotSameServers.json")
                                            AllIDs = {}
                                            table.insert(AllIDs, actualHour)
                                        end
                                    )
                                end
                            end
                            num = num + 1
                        end
                        if Possible == true then
                            table.insert(AllIDs, ID)
                            wait()
                            pcall(
                                function()
                                    writefile("NotSameServers.json", game:GetService("HttpService"):JSONEncode(AllIDs))
                                    wait()
                                    game:GetService("TeleportService"):TeleportToPlaceInstance(
                                        PlaceID,
                                        ID,
                                        game.Players.LocalPlayer
                                    )
                                end
                            )
                            wait(4)
                        end
                    end
                end
            end

            local function Teleport()
                while wait() do
                    pcall(
                        function()
                            TPReturner()
                            if foundAnything ~= "" then
                                TPReturner()
                            end
                        end
                    )
                end
            end

            Teleport()
    end})

    local ResetServerHopInfo = Tabs.Others:AddButton({
        Title = "Reset Server Hop Info", 
        Callback = function()
            NotificationSound:Play()
            delfile("NotSameServers.json")
    end})

    NotificationSound:Play()
    Fluent:Notify({
        Title = "Notification",
        Content = "Script Made By syphix_n19",
        Duration = 5
    })
